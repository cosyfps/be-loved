<ion-content class="background">

  <div class="header-title">
    <ion-icon name="chevron-back-sharp" class="header-icon" (click)="goToAdmin()"></ion-icon>
    <h2>Users List</h2>
  </div>

  <div class="search-container">
    <ion-input animated="true" placeholder="Enter Username" class="ion-margin-top search-bar" type="tel" maxlength="9"
      [(ngModel)]="searchUsername">
      <ion-button fill="clear" slot="end" (click)="searchUser(searchUsername)">
        <ion-icon name="search" class="search-icon"></ion-icon>
      </ion-button>
    </ion-input>
  </div>

  <div class="users-container">
    <ion-text *ngIf="errorUsername" class="ion-text-center">NO RESULTS</ion-text>
    <!-- List users using *ngFor -->

    <mat-card *ngFor="let user of users" class="user-container">
      <mat-card-header>
        <mat-card-title>{{ user.fullName }}</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <p>ID: {{user.userId}}</p>
        <p>Username: {{ user.username }}</p>
        <p>Email: {{ user.email }}</p>
        <p>Role: {{user.roleId}}</p>
      </mat-card-content>
      <mat-card-actions class="action-buttons">
        <button mat-button class="action-button-delete" (click)="deleteUser(user)">
          Delete User
          <mat-icon mat-card-avatar class="icon-delete">delete</mat-icon>
        </button>
        <button mat-button class="action-button-delete" (click)="changeUserRole(user)">
          Change Role
          <mat-icon mat-card-avatar class="icon-delete">delete</mat-icon>
        </button>
      </mat-card-actions>
    </mat-card>
  </div>
</ion-content>